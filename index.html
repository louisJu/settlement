<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>정산 표</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-indigo-400 to-purple-500 min-h-screen p-4">
  <div class="max-w-6xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
    <!-- Header -->
    <div class="bg-gradient-to-r from-sky-400 to-cyan-300 text-white text-center p-6">
      <h1 class="text-3xl font-bold mb-2">✈️ 정산 표</h1>
      <p class="opacity-90">여행/모임 비용을 간편하게 정산하세요</p>
    </div>

    <!-- Controls -->
    <div class="p-4 bg-gray-50 border-b border-gray-200 space-y-4">
      <div class="flex flex-wrap items-center gap-2">
        <span class="font-semibold text-gray-700">현재 참여자:</span>
        <div id="currentPeople" class="flex flex-wrap gap-2"></div>
      </div>

      <div class="flex flex-wrap gap-2 items-center">
        <label for="personName" class="font-semibold text-gray-700">새 참여자:</label>
        <input id="personName" type="text" placeholder="이름 입력" class="px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400">
        <button onclick="addPerson()" class="px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600">추가</button>
        <button onclick="calculateTotal()" class="px-4 py-2 rounded-lg font-semibold bg-green-500 text-white hover:bg-green-600">정산 계산</button>
        <button onclick="resetTable()" class="px-4 py-2 rounded-lg font-semibold bg-red-500 text-white hover:bg-red-600">초기화</button>
      </div>
    </div>

    <!-- Table -->
    <div class="p-4 overflow-x-auto">
      <table id="expenseTable" class="w-full border-collapse text-sm">
        <thead>
          <tr class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white">
            <th class="p-3">항목</th>
            <th class="p-3">상세내역</th>
            <th class="p-3">금액 (원)</th>
            <th class="p-3">비고</th>
            <th class="p-3">참여자</th>
            <th class="p-3 person-header">환석</th>
            <th class="p-3 person-header">종만</th>
            <th class="p-3 person-header">태호</th>
            <th class="p-3">액션</th>
          </tr>
        </thead>
        <tbody id="expenseBody" class="divide-y divide-gray-100">
          <tr class="hover:bg-gray-50">
            <td><input class="editable w-full border-none focus:ring-2 focus:ring-yellow-300 rounded p-1" value="글램핑 예약"></td>
            <td><input class="editable w-full border-none focus:ring-2 focus:ring-yellow-300 rounded p-1" value="야놀자 예약"></td>
            <td><input class="editable w-full border-none focus:ring-2 focus:ring-yellow-300 rounded p-1 text-right" type="number" value="163000"></td>
            <td><input class="editable w-full border-none focus:ring-2 focus:ring-yellow-300 rounded p-1"></td>
            <td>
              <div class="flex flex-col gap-1 text-xs text-gray-700">
                <label><input type="checkbox" class="participant-check" data-person="0" checked> 환석</label>
                <label><input type="checkbox" class="participant-check" data-person="1" checked> 종만</label>
                <label><input type="checkbox" class="participant-check" data-person="2" checked> 태호</label>
              </div>
            </td>
            <td class="person-cell text-indigo-600 font-semibold">60,000</td>
            <td class="person-cell text-indigo-600 font-semibold">60,000</td>
            <td class="person-cell text-indigo-600 font-semibold">43,000</td>
            <td><button onclick="deleteRow(this)" class="px-3 py-1 text-white bg-red-500 rounded hover:bg-red-600">삭제</button></td>
          </tr>
        </tbody>
        <tfoot>
          <tr class="bg-orange-100 font-semibold">
            <td colspan="5" class="p-2">총 결제 금액</td>
            <td id="total1" class="p-2 text-green-600">157,500</td>
            <td id="total2" class="p-2 text-green-600">157,500</td>
            <td id="total3" class="p-2 text-green-600">48,080</td>
            <td></td>
          </tr>
          <tr class="bg-gray-50">
            <td colspan="5" class="p-2 font-semibold">개인 지출 금액</td>
            <td><input type="number" class="personal-expense w-full rounded p-1" data-person="0" value="0"></td>
            <td><input type="number" class="personal-expense w-full rounded p-1" data-person="1" value="15000"></td>
            <td><input type="number" class="personal-expense w-full rounded p-1" data-person="2" value="0"></td>
            <td></td>
          </tr>
          <tr class="bg-teal-100 font-bold">
            <td colspan="5" class="p-2">최종 정산 금액</td>
            <td id="final1" class="p-2 text-indigo-700">157,500</td>
            <td id="final2" class="p-2 text-indigo-700">142,500</td>
            <td id="final3" class="p-2 text-indigo-700">48,080</td>
            <td></td>
          </tr>
        </tfoot>
      </table>
      <button onclick="addRow()" class="mt-4 w-full py-3 rounded-lg bg-green-500 text-white font-semibold hover:bg-green-600">+ 새 항목 추가</button>
    </div>

    <!-- Summary -->
    <div class="p-6 bg-gray-50">
      <h2 class="text-xl font-bold mb-4">💰 정산 요약</h2>
      <div id="summaryCards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
    </div>
  </div>

  <!-- 기존 JS 코드 그대로 포함 -->
  <script>
    // 👉 기존 JavaScript 그대로 붙여넣기 (saveData, loadData, addPerson 등)
    // 스타일만 Tailwind 로 바꿨습니다.
  </script>
</body>
</html>
